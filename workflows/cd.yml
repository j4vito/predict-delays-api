steps:
  - name: 'docker'
    id: Build Docker on GCP
    args: ['gcloud', 'builds', 'submit', '--region=southamerica-east1', '--tag', 'southamerica-east1-docker.pkg.dev/delays-api/delay-api-docker/mle:tag1']

  - name: 'docker'
    id: Push Docker image
    args: ['gcloud', 'run', 'deploy', '--image=southamerica-east1-docker.pkg.dev/delays-api/delay-api-docker/mle:tag1']
    waitFor: ['Build Docker on GCP']

  # Step 4: Notify on successful deployment (Optional)
  - name: 'cloud'
    id: Send Deployment Notification
    entrypoint: bash
    args:
      - '-c'
      - 'echo "Delays API successfully deployed!"'
